var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,a=(t,r,o)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o,i=(e,t)=>{for(var r in t||(t={}))n.call(t,r)&&a(e,r,t[r]);if(o)for(var r of o(t))s.call(t,r)&&a(e,r,t[r]);return e};import{m as c,r as l,o as u,c as d,a as p,b as m,w as h,d as y,e as g,v as k,n as b,u as f,p as v,N as x,F as w,f as j,g as P,L,h as $,i as O,j as E,k as R,l as C}from"./vendor.9fdfcb85.js";const _={name:"Header",computed:i({},c(["contrast"])),methods:{toggleHistory(){this.$store.commit("toggleHistoryPage")}}},N=p("div",null,[p("h1",null,"IRO"),p("span",null,"Amazing color tools")],-1),S=y("Convert"),F=y("Picker");function H(e={}){const{immediate:t=!0,onNeedRefresh:r,onOfflineReady:o}=e,n=g(!1),s=g(!1);return{updateServiceWorker:function(e={}){const{immediate:t=!1,onNeedRefresh:r,onOfflineReady:o}=e;let n,s;if("serviceWorker"in navigator){n=new k("/sw.js",{scope:"/"}),n.addEventListener("activated",(e=>{e.isUpdate||null==o||o()}));{const e=()=>{null==r||r()};n.addEventListener("waiting",e),n.addEventListener("externalwaiting",e)}n.register({immediate:t}).then((e=>s=e))}return async(e=!0)=>{e&&(null==n||n.addEventListener("controlling",(e=>{e.isUpdate&&window.location.reload()}))),s&&s.waiting&&await b(s.waiting,{type:"SKIP_WAITING"})}}({immediate:t,onNeedRefresh(){n.value=!0,null==r||r()},onOfflineReady(){s.value=!0,null==o||o()}}),offlineReady:s,needRefresh:n}}_.render=function(e,t,r,o,n,s){const a=l("router-link");return u(),d("header",null,[N,p("nav",null,["convert"==e.$route.name?(u(),d("a",{key:0,onClick:t[1]||(t[1]=(...e)=>s.toggleHistory&&s.toggleHistory(...e))},"History")):m("",!0),p(a,{to:"/","active-class":"active"},{default:h((()=>[S])),_:1}),p(a,{to:"/picker","active-class":"active"},{default:h((()=>[F])),_:1})]),p("img",{src:`/icon-${e.contrast}.svg`,alt:`icon-${e.contrast}`},null,8,["src","alt"])])};const T={key:0,class:"pwa-toast",role:"alert"},A={class:"message"},M={key:0},I={key:1},W={expose:[],setup(e){const{offlineReady:t,needRefresh:r,updateServiceWorker:o}=H(),n=async()=>{t.value=!1,r.value=!1};return(e,s)=>f(t)||f(r)?(u(),d("div",T,[p("div",A,[f(t)?(u(),d("span",M," App ready to work offline ")):(u(),d("span",I," New content available, click on reload button to update. "))]),f(r)?(u(),d("button",{key:0,onClick:s[1]||(s[1]=e=>f(o)())},"Reload")):m("",!0),p("button",{onClick:n},"Close")])):m("",!0)}},B={expose:[],setup:e=>(v("notyf",new x({duration:2e3,position:{x:"center",y:"bottom"}})),(e,t)=>{const r=l("router-view");return u(),d(w,null,[p(_),p(r),p(W)],64)})};const D=e=>{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),t.remove()},U=e=>e.map((e=>Number(Number(e).toFixed(0)))),q=(e,t)=>{switch(e){case"hex":return"object"==typeof t&&1==t.length&&(t=t[0]),"string"==typeof t&&6===t.length&&!isNaN(Number("0x"+t));case"rgb":if("object"==typeof t&&3===t.length){return 3===t.filter((e=>"number"==typeof e&&e<=255)).length}return!1;case"hsl":if("object"==typeof t&&3===t.length){return 3===t.filter((e=>"number"==typeof e&&e<=200)).length}return!1;case"cmyk":if("object"==typeof t&&4===t.length){return 4===t.filter((e=>"number"==typeof e&&e<=255)).length}return!1}},z=(e,t)=>{switch(e){case"hex":return{hex:t,rgb:j.hex.rgb(t),hsl:j.hex.hsl(t),cmyk:j.hex.cmyk(t)};case"rgb":return{hex:j.rgb.hex(t),rgb:t,hsl:j.rgb.hsl(t),cmyk:j.rgb.cmyk(t)};case"hsl":case"cmyk":return{hex:j.cmyk.hex(t),rgb:j.cmyk.rgb(t),hsl:j.cmyk.hsl(t),cmyk:t}}},V=e=>e>=128?"black":"white",G=()=>Array(3).fill(0).map((()=>{return e=1,t=255,Math.random()*(t-e)+e;var e,t})),K=(e,t,r)=>{const o=z(e,t),n=(([e,t,r])=>{const o=(299*e+587*t+114*r)/1e3;return{yiq:o,result:o>=128?"black":"white"}})(o.rgb),s=(e=>{const t=j.hex.rgb(e),r=P({stops:8,inputFormat:"hex",colorArray:["#212121",`#${e}`,"#FFFFFF"]});return P({stops:8,inputFormat:"rgb",colorArray:[r[1],`rgb(${t.join(",")})`,r[6]]})})(o.hex),a="black"===n.result?s[7]:`#${o.hex}`,i="black"===n.result?s[1]:s[7],c="black"===n.result?s[7]:s[1],l=c.replace("rgb","rgba").replace(")",", 0.98)"),u=[["dark-color",c],["dark-transparent-color",l],["primary-color",`#${o.hex}`],["secondary-color",i],["text-color",a],["contrast-color",n.result]];return document.body.style.cssText=u.filter((([e,t])=>null!==e)).map((([e,t])=>`--${e}: ${t};`)).join(""),document.body.style.cssText+=r?"transition: background-color 0.5s cubic-bezier(0.4, 0, 0.2, 1);":"","black"===n.result?document.body.classList.add("dark"):document.body.classList.remove("dark"),{colors:o,contrast:n,gradients:s}},J=e=>({hex:{inputLength:1,inputMaxLength:6,inputType:"text",toString:e=>("object"==typeof e&&1==e.length&&(e=e[0]),`#${e}`)},rgb:{inputLength:3,inputMaxLength:255,inputType:"number",toString:e=>`rgb(${U(e).join(", ")})`},hsl:{inputLength:3,inputMaxLength:200,inputType:"number",toString:e=>`hsl(${U(e).join(", ")})`},cmyk:{inputLength:4,inputMaxLength:255,inputType:"number",toString:e=>`cmyk(${U(e).join(", ")})`}}[e]),Q=new L(new $("app-db"));Q.read(),Q.data||(Q.data={bookmarks:[],history:[],pickers:[]});const X=O({state:{contrast:"white",bookmarks:Q.data.bookmarks,history:Q.data.history,pickers:Q.data.pickers,historyPage:!1},getters:{histories(e){const o=[...e.history];return o.pop(),o.map((e=>{const o=J(e.type);return n=i({},e),s={title:`${e.type.toUpperCase()}`,colorText:o.toString(e.value),colorStyle:`#${e.colors.hex}`},t(n,r(s));var n,s})).reverse()},rePickers:e=>e.pickers.reverse(),incontrast:e=>"white"==e.contrast?"black":"white"},mutations:{setContrast(e,t){e.contrast=t},addBookmarks(e,t){e.bookmarks.push(t),e.bookmarks=e.bookmarks.slice(Math.max(e.bookmarks.length-20,0)),Q.write()},addHistory(e,t){e.history.push(t),e.history=e.history.slice(Math.max(e.history.length-20,0)),Q.write()},addPicker(e,t){e.pickers.push(t),e.pickers=e.pickers.slice(Math.max(e.pickers.length-20,0)),Q.write()},toggleHistoryPage(e){e.historyPage=!e.historyPage}},actions:{addBookmarks({commit:e},t){e("addBookmarks",t)},addHistory({commit:e},t){e("addHistory",t)},addPicker({commit:e},t){e("addPicker",t)}},modules:{}});let Y;const Z={},ee=function(e,t){if(!t)return e();if(void 0===Y){const e=document.createElement("link").relList;Y=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in Z)return;Z[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":Y,t||(o.as="script",o.crossOrigin=""),o.href=e,document.head.appendChild(o),t?new Promise(((e,t)=>{o.addEventListener("load",e),o.addEventListener("error",t)})):void 0}))).then((()=>e()))},te=[{path:"/:type?/:color?",name:"convert",component:()=>ee((()=>import("./ColorConvert.86cf359a.js")),["/assets/ColorConvert.86cf359a.js","/assets/ColorConvert.f3496b47.css","/assets/vendor.9fdfcb85.js"])},{path:"/picker",name:"picker",component:()=>ee((()=>import("./ColorPicker.007d5405.js")),["/assets/ColorPicker.007d5405.js","/assets/ColorPicker.a7bf253a.css","/assets/vendor.9fdfcb85.js"])}],re=E({history:R(),routes:te}),oe=C(B);oe.use(X).use(re),oe.mount("#app");export{q as a,G as b,D as c,K as d,z as e,J as g,U as n,V as y};
